{#<!DOCTYPE html>#}
{#<html>#}
{#  <head>#}
{#    <title>Interactive maps for Django web apps</title>#}
{#    <script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>#}
{#    <link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet' />#}
{#  </head>#}
{#  <body>#}
{#   <h1 id='h1' style="text-align: center;">Welcome to Data Map</h1>#}
{#   <table class="">#}
{#       <tr>#}
{#           <td style="color:#337ab7">#}
{#               <p><a href="{% url 'maps:totalPop' %}">Total Population</a></p>#}
{#           </td>#}
{#           <td style="color:#337ab7">#}
{#               <p><a href="{% url 'maps:medIncome' %}">Median Household Income</a></p>#}
{#           </td>#}
{#           <td style="color:#337ab7">#}
{#               <p><a href="{% url 'maps:healthInfra' %}">Health Infrastructure</a></p>#}
{#           </td>#}
{#           <td style="color:#337ab7">#}
{#               <p><a href="{% url 'maps:underlyHealth' %}">Underlying Health Issues</a></p>#}
{#           </td>#}
{#           <td style="color:#337ab7">#}
{#               <p><a href="{% url 'maps:vulIndex' %}">Vulnerability Index</a></p>#}
{#           </td>#}
{#       </tr>#}
{#   </table>#}
{#    <div id='map' style='top: 200px; width: 100%; height: 400px;'></div>#}
{#    <script>#}
{#    mapboxgl.accessToken = 'pk.eyJ1IjoibWFya3l1MTIzNTgiLCJhIjoiY2thdTdkM242MHd1bzJxcjJjbzNlYXlkZCJ9.y09b-zDcGK44RXtLmQOp-w';#}
{#    var map = new mapboxgl.Map({#}
{#    container: 'map',#}
{#     style: 'mapbox://styles/mapbox/streets-v9',#}
{#     center: [-97.18, 38.97],#}
{#     zoom: 4#}
{#    });#}
{#     map.on('load', function() {#}
{#  });#}
{#    </script>#}
{#  </body>#}
{#</html>#}

<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>STAYING ONE STEP AHEAD OF COVID-19</title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="{% static 'maps/vendor/bootstrap/css/bootstrap.min.css' %}">

  <!-- Custom fonts for this template -->
  <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="{% static 'maps/css/one-page-wonder.css' %}">

    <script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet' />

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#">NASA 2020 SPACEAPPS CHALLENGE - TEAM DATADUMMIES</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="#">Sign Up</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Log In</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <header class="masthead text-center text-white">
    <div class="masthead-content">
      <div class="container">
        <h1 class="masthead-heading mb-0">STAYING ONE STEP AHEAD OF COVID-19</h1>
        <a href="#" class="btn btn-primary btn-xl rounded-pill mt-5">Learn More</a>
      </div>
    </div>
    <div class="bg-circle-1 bg-circle"></div>
    <div class="bg-circle-2 bg-circle"></div>
    <div class="bg-circle-3 bg-circle"></div>
    <div class="bg-circle-4 bg-circle"></div>
  </header>

    <header class="masthead text-center text-white">
        <div class="container">
            <h1 class="display-4">Be informed. Know what's coming next.</h1>
            <p>With COVID-19 sweeping across the world and nearly two million confirmed cases in the United States alone, we are witnessing unprecedented destruction on social and economic levels. As a result, local agencies are currently being forced to make difficult decisions regarding where to prioritize medical staff, resources, law enforcement, and stimulus. However, popular statistics such as unemployment and infection rates can be misleading. It's important to know not only where problems are, but where problems will arise.
            </p>
            <p>United Nations SDG 11, Sustainable Cities and Communities: By 2030, significantly reduce the number of deaths and the number of people affected and substantially decrease the direct economic losses relative to global gross domestic product caused by disasters. Indicator: "Understand population mobility, where people are, who is most at risk, and other associated impacts."
            </p>

        </div>
    </header>

  <div class="container">
    <div class="p-5">
        <h2 class="display-4">We analyze and visualize the intersectionality of four important metrics:</h2>
    </div>

</div>

  <section>
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6">
          <div class="p-5">
            <img class="img-fluid rounded-circle" src="{% static "maps/img/health.jpeg" %}" alt="">
          </div>
        </div>
        <div class="col-lg-6">
          <div class="p-5">
            <h2 class="display-4">Health Infrastructure</h2>
            <p>Percentage of population 18-64 with no health insurance.</p>
              <p>Number of hospital beds per 1,000 people within 25 kilometers.</p>
              <p>Number of urgent care facilities per 1,000 people within 25 kilometers.</p>
            <p>Ratio of population to primary care physicians​ ​</p>
          </div>
        </div>
      </div>

    </div>
  </section>


    <section>
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 order-lg-2">
          <div class="p-5">
            <img class="img-fluid rounded-circle" src="{% static "maps/img/demographics.jpeg" %}" alt="">
          </div>
        </div>
        <div class="col-lg-6">
          <div class="p-5">
            <h2 class="display-4">Population Demographics</h2>
            <p>Population aged 80+</p>
              <p>Population aged 70-79</p>
              <p>Population aged 60-69</p>
              <p>Nursing home population per 1,000​</p>
              <p>Prison population per 1,000​</p>
          </div>
        </div>
      </div>

    </div>
  </section>

  <section>
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6">
          <div class="p-5">
            <img class="img-fluid rounded-circle" src="{% static "maps/img/work.jpeg" %}" alt="">
          </div>
        </div>
        <div class="col-lg-6">
          <div class="p-5">
            <h2 class="display-4">Unemployment</h2>
            <p>PNumber of unemployed currently</p>
              <p>Number of unemployed over the last 14 months</p>
              <p>Percent change in unemployment from March 2019 to March 2020​</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section>
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 order-lg-2">
          <div class="p-5">
            <img class="img-fluid rounded-circle" src="{% static "maps/img/healthissue.jpeg" %}" alt="">
          </div>
        </div>
        <div class="col-lg-6">
          <div class="p-5">
            <h2 class="display-4">Underlying Health Issues</h2>
            <p>PHigh blood pressure prevalence in adults</p>
              <p>Cancer prevalence in adults</p>
              <p>Asthma prevalence in adults</p>
              <p>Coronary heart disease prevalence in adults ​</p>
              <p>Diabetes prevalence in adults</p>
              <p>Active smokers among adults</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="container">
      <table style="width:100%">
          <tr>
            <th style="text-align:center"><button style="margin: 5px" type="button" class="btn" onclick="myFunction()">Integrated Map</button></th>
            <th style="text-align:center"><button style="margin: 5px" type="button" class="btn" onclick="myFunction2()">U.S. Total Population</button></th>
            <th style="text-align:center"><button style="margin: 5px" type="button" class="btn" onclick="myFunction3()">U.S. Median Household Income</button></th>
          </tr>
          <tr>
            <td style="text-align:center"><button style="margin: 5px" type="button" class="btn" onclick="myFunction4()">U.S. Health Infrastructures</button></td>
            <td style="text-align:center"><button style="margin: 5px" type="button" class="btn" onclick="myFunction5()">U.S. Underlying Health Issues</button></td>
            <td style="text-align:center"><button style="margin: 5px" type="button" class="btn" onclick="myFunction6()">U.S. Vulnerability Index</button></td>
          </tr>
        </table>
  </div>

  <!-- MAP -->

  <div class="container">
      <h1 id='figure_name'></h1>
      <div id='map' style='width: 100%; height: 600px;'></div>

      <script>
        document.getElementById('figure_name').innerText = "Integrated Map";
        mapboxgl.accessToken = 'pk.eyJ1IjoibWFya3l1MTIzNTgiLCJhIjoiY2thdTdkM242MHd1bzJxcjJjbzNlYXlkZCJ9.y09b-zDcGK44RXtLmQOp-w';
        var map = new mapboxgl.Map({
          container: 'map',
          style: 'mapbox://styles/markyu12358/ckavrwrcn0un41ijvyh3orp4v',
          center: [-97.18, 38.97],
          zoom: 4
        });
        map.on('load', function () {
          map.addLayer({
            id: 'healthInfra',
            type: 'circle',
            source: {
              type: 'vector',
              url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
            },
            'source-layer': 'covid19',
            paint: {
              'circle-radius': ['/', ['number', ['to-number', ['get', 'Health Infrastructure']], 30], 10],
              'circle-opacity': 0.8,
              'circle-color': 'rgb(52, 235, 168)'
            }
          });
          map.addLayer({
            id: 'medIncome',
            type: 'circle',
            source: {
              type: 'vector',
              url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
            },
            'source-layer': 'covid19',
            paint: {
              'circle-radius': ['/', ['number', ['to-number', ['get', 'Median Household Income']], 20], 500],
              'circle-opacity': 0.8,
              'circle-color': 'rgb(245, 149, 66)'
            }
          });
          map.addLayer({
            id: 'underlyHealth',
            type: 'circle',
            source: {
              type: 'vector',
              url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
            },
            'source-layer': 'covid19',
            paint: {
              'circle-radius': ['/', ['number', ['to-number', ['get', 'Underlying Health Issues']], 20], 5],
              'circle-opacity': 0.8,
              'circle-color': 'rgb(66, 194, 245)'
            }
          });
          map.addLayer({
            id: 'totalPopulation',
            type: 'circle',
            source: {
              type: 'vector',
              url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
            },
            'source-layer': 'covid19',
            paint: {
              'circle-radius': ['/', ['number', ['to-number', ['get', 'Total Population']], 20], 100000],
              'circle-opacity': 0.8,
              'circle-color': 'rgb(52, 161, 235)'
            }
          });
          map.addLayer({
            id: 'vulnerability Index',
            type: 'circle',
            source: {
              type: 'vector',
              url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
            },
            'source-layer': 'covid19',
            paint: {
              'circle-radius': ['/', ['number', ['to-number', ['get', 'Covid-19 Vulnerability Index']], 20], 5],
              'circle-opacity': 0.8,
              'circle-color': 'rgb(245, 84, 66)'
            }
          });
        });
      </script>

      <script>
        function myFunction() {
          document.getElementById('figure_name').innerText = "Integrated Map";
          mapboxgl.accessToken = 'pk.eyJ1IjoibWFya3l1MTIzNTgiLCJhIjoiY2thdTdkM242MHd1bzJxcjJjbzNlYXlkZCJ9.y09b-zDcGK44RXtLmQOp-w';
          var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/markyu12358/ckavrwrcn0un41ijvyh3orp4v',
            center: [-97.18, 38.97],
            zoom: 4
          });
          map.on('load', function () {
            map.addLayer({
              id: 'healthInfra',
              type: 'circle',
              source: {
                type: 'vector',
                url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
              },
              'source-layer': 'covid19',
              paint: {
                'circle-radius': ['/', ['number', ['to-number', ['get', 'Health Infrastructure']], 30], 10],
                'circle-opacity': 0.8,
                'circle-color': 'rgb(52, 235, 168)'
              }
            });
            map.addLayer({
              id: 'medIncome',
              type: 'circle',
              source: {
                type: 'vector',
                url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
              },
              'source-layer': 'covid19',
              paint: {
                'circle-radius': ['/', ['number', ['to-number', ['get', 'Median Household Income']], 20], 500],
                'circle-opacity': 0.8,
                'circle-color': 'rgb(245, 149, 66)'
              }
            });
            map.addLayer({
              id: 'underlyHealth',
              type: 'circle',
              source: {
                type: 'vector',
                url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
              },
              'source-layer': 'covid19',
              paint: {
                'circle-radius': ['/', ['number', ['to-number', ['get', 'Underlying Health Issues']], 20], 5],
                'circle-opacity': 0.8,
                'circle-color': 'rgb(66, 194, 245)'
              }
            });
            map.addLayer({
              id: 'totalPopulation',
              type: 'circle',
              source: {
                type: 'vector',
                url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
              },
              'source-layer': 'covid19',
              paint: {
                'circle-radius': ['/', ['number', ['to-number', ['get', 'Total Population']], 20], 100000],
                'circle-opacity': 0.8,
                'circle-color': 'rgb(52, 161, 235)'
              }
            });
            map.addLayer({
              id: 'vulnerability Index',
              type: 'circle',
              source: {
                type: 'vector',
                url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
              },
              'source-layer': 'covid19',
              paint: {
                'circle-radius': ['/', ['number', ['to-number', ['get', 'Covid-19 Vulnerability Index']], 20], 5],
                'circle-opacity': 0.8,
                'circle-color': 'rgb(245, 84, 66)'
              }
            });
          });
        }
      </script>

      <script>
        function myFunction2() {
          document.getElementById('figure_name').innerText = "U.S. Total Population";
          mapboxgl.accessToken = 'pk.eyJ1IjoibWFya3l1MTIzNTgiLCJhIjoiY2thdTdkM242MHd1bzJxcjJjbzNlYXlkZCJ9.y09b-zDcGK44RXtLmQOp-w';
          var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/markyu12358/ckavrwrcn0un41ijvyh3orp4v',
            center: [-97.18, 38.97],
            zoom: 4
          });
          map.on('load', function () {
            map.addLayer({
              id: 'covid19',
              type: 'circle',
              source: {
                type: 'vector',
                url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
              },
              'source-layer': 'covid19',
              paint: {
                'circle-radius': ['/', ['number', ['to-number', ['get', 'Total Population']], 20], 100000],
                'circle-opacity': 0.8,
                'circle-color': 'rgb(52, 161, 235)'
              }
            });
          });
        }
      </script>

      <script>
        function myFunction3() {
          document.getElementById('figure_name').innerText = "U.S. Median Household Income";
          mapboxgl.accessToken = 'pk.eyJ1IjoibWFya3l1MTIzNTgiLCJhIjoiY2thdTdkM242MHd1bzJxcjJjbzNlYXlkZCJ9.y09b-zDcGK44RXtLmQOp-w';
          var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/markyu12358/ckavrwrcn0un41ijvyh3orp4v',
            center: [-97.18, 38.97],
            zoom: 4
          });
          map.on('load', function () {
            map.addLayer({
              id: 'covid19',
              type: 'circle',
              source: {
                type: 'vector',
                url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
              },
              'source-layer': 'covid19',
              paint: {
                'circle-radius': ['/', ['number', ['to-number', ['get', 'Median Household Income']], 20], 500],
                'circle-opacity': 0.8,
                'circle-color': 'rgb(245, 149, 66)'
              }
            });
          });
        }
      </script>

      <script>
        function myFunction4() {
          document.getElementById('figure_name').innerText = "U.S. Health Infrastructures";
          mapboxgl.accessToken = 'pk.eyJ1IjoibWFya3l1MTIzNTgiLCJhIjoiY2thdTdkM242MHd1bzJxcjJjbzNlYXlkZCJ9.y09b-zDcGK44RXtLmQOp-w';
          var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/markyu12358/ckavrwrcn0un41ijvyh3orp4v',
            center: [-97.18, 38.97],
            zoom: 4
          });
          map.on('load', function () {
            map.addLayer({
              id: 'covid19',
              type: 'circle',
              source: {
                type: 'vector',
                url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
              },
              'source-layer': 'covid19',
              paint: {
                'circle-radius': ['/', ['number', ['to-number', ['get', 'Health Infrastructure']], 30], 10],
                'circle-opacity': 0.8,
                'circle-color': 'rgb(52, 235, 168)'
              }
            });
          });
        }
      </script>

      <script>
        function myFunction5() {
          document.getElementById('figure_name').innerText = "U.S. Underlying Health Issues";
          mapboxgl.accessToken = 'pk.eyJ1IjoibWFya3l1MTIzNTgiLCJhIjoiY2thdTdkM242MHd1bzJxcjJjbzNlYXlkZCJ9.y09b-zDcGK44RXtLmQOp-w';
          var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/markyu12358/ckavrwrcn0un41ijvyh3orp4v',
            center: [-97.18, 38.97],
            zoom: 4
          });
          map.on('load', function () {
            map.addLayer({
              id: 'covid19',
              type: 'circle',
              source: {
                type: 'vector',
                url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
              },
              'source-layer': 'covid19',
              paint: {
                'circle-radius': ['/', ['number', ['to-number', ['get', 'Underlying Health Issues']], 20], 5],
                'circle-opacity': 0.8,
                'circle-color': 'rgb(66, 194, 245)'
              }
            });
          });
        }
      </script>

      <script>
        function myFunction6() {
          document.getElementById('figure_name').innerText = "U.S. Vulnerability Index";
          mapboxgl.accessToken = 'pk.eyJ1IjoibWFya3l1MTIzNTgiLCJhIjoiY2thdTdkM242MHd1bzJxcjJjbzNlYXlkZCJ9.y09b-zDcGK44RXtLmQOp-w';
          var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/markyu12358/ckavrwrcn0un41ijvyh3orp4v',
            center: [-97.18, 38.97],
            zoom: 4
          });
          map.on('load', function () {
            map.addLayer({
              id: 'covid19',
              type: 'circle',
              source: {
                type: 'vector',
                url: 'mapbox://markyu12358.ckauvkmbv16yy23qq6c7h1q3u-97ype'
              },
              'source-layer': 'covid19',
              paint: {
                'circle-radius': ['/', ['number', ['to-number', ['get', 'Covid-19 Vulnerability Index']], 20], 5],
                'circle-opacity': 0.8,
                'circle-color': 'rgb(245, 84, 66)'
              }
            });
          });
        }
      </script>

  </div>



  <!-- Footer -->
  <footer class="py-5 bg-black">
    <div class="container">
      <p class="m-0 text-center text-white small">Copyright &copy; Data Dummies 2020</p>
    </div>
    <!-- /.container -->
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="{% static 'vendor/jquery/jquery.min.js' %}></script>
  <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}></script>

</body>
</html>
